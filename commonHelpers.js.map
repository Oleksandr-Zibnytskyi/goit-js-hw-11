{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function fetchImages(query) {\n    const searchParams = new URLSearchParams({\n        key: \"43104791-fccc42375971f64c47e678deb\",\n        q: query,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: \"true\",\n    });\n\n    const url = `https://pixabay.com/api/?${searchParams}`;\n\n    return fetch(url).then(response => {\n        if (!response.ok) {\n\n            throw new Error(response.status)\n        }\n\n        return response.json();\n    });\n}\n","import SimpleLightbox from \"simplelightbox\"\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst galleryList = document.querySelector(\".gallery\");\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',});\n\nexport function renderImages(data) {\n\n    const galleryMarkup = data.map(({largeImageURL,webformatURL,tags,likes,views,comments,downloads}) => {\n      \n        return `<li class=\"photos-list-item\">\n        <a class=\"photos-list-link\" href=\"${largeImageURL}\">\n        <img class=\"photo\" src=\"${webformatURL}\" alt=\"${tags}\"/>\n        </a>\n        <ul class=\"photo-information-container\">\n        <li class=\"item-photo-information-container\"><p><span class=\"accent\">Likes</span></br>${likes}</p></li>\n        <li class=\"item-photo-information-container\"><p><span class=\"accent\">Views</span></br>${views}</p></li>\n        <li class=\"item-photo-information-container\"><p><span class=\"accent\">Comments</span></br>${comments}</p></li>\n        <li class=\"item-photo-information-container\"><p><span class=\"accent\">Downloads</span></br>${downloads}</p></li>\n        </ul>\n        </li>`}).join(\"\");\n    \n    galleryList.insertAdjacentHTML('beforeend', galleryMarkup);\n    \n    lightbox.refresh();\n  }\n","\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport { fetchImages } from \"./js/pixabay-api.js\";\nimport { renderImages } from \"./js/render-functions.js\";\n\nconst form = document.querySelector(\"form\");\nconst loader = document.querySelector('.loader');\n\nfunction showLoader() {\n    loader.classList.remove(\"is-hidden\");\n}\n\nfunction hideLoader() {\n    loader.classList.add(\"is-hidden\");\n}\n\nform.addEventListener(\"submit\", async e => {\n    e.preventDefault();\n    const query = e.target.elements.search.value.trim();\n\n    const galleryList = document.querySelector(\".gallery\");\n    galleryList.innerHTML = \"\";\n\n    showLoader();\n\n    if (query === \"\") {\n        iziToast.warning({\n            color: 'yellow',\n            message: \"Please fill in the field for search!\",\n            position: 'topRight'\n        });\n        return;\n    }\n\n    try {\n        const data = await fetchImages(query);\n        if (data.hits.length === 0) {\n            iziToast.error({\n                message: \"Sorry, there are no images matching your search query. Please try again!\",\n                backgroundColor: \"red\",\n                messageColor: \"white\",\n                position: 'topRight'\n            });\n        } else {\n            renderImages(data.hits);\n        }\n    } catch (error) {\n        console.log(error);\n        iziToast.error({\n            title: 'Error',\n            message: `Sorry, there are no images matching your search query. Please, try again!`,\n            position: 'topRight'\n        });\n    } finally {\n        hideLoader();\n    }\n});\n\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    const lightbox = new SimpleLightbox('.gallery a');\n    lightbox.refresh();\n});"],"names":["fetchImages","query","url","response","galleryList","lightbox","SimpleLightbox","renderImages","data","galleryMarkup","largeImageURL","webformatURL","tags","likes","views","comments","downloads","form","loader","showLoader","hideLoader","e","iziToast","error"],"mappings":"6vBAAO,SAASA,EAAYC,EAAO,CAS/B,MAAMC,EAAM,4BARS,IAAI,gBAAgB,CACrC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MACpB,CAAK,CAEmD,GAEpD,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAY,CAC/B,GAAI,CAACA,EAAS,GAEV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGnC,OAAOA,EAAS,MACxB,CAAK,CACL,CChBA,MAAMC,EAAc,SAAS,cAAc,UAAU,EAE/CC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,KAAK,CAAE,EAEhB,SAASC,EAAaC,EAAM,CAE/B,MAAMC,EAAgBD,EAAK,IAAI,CAAC,CAAC,cAAAE,EAAc,aAAAC,EAAa,KAAAC,EAAK,MAAAC,EAAM,MAAAC,EAAM,SAAAC,EAAS,UAAAC,CAAS,IAEpF;AAAA,4CAC6BN,CAAa;AAAA,kCACvBC,CAAY,UAAUC,CAAI;AAAA;AAAA;AAAA,gGAGoCC,CAAK;AAAA,gGACLC,CAAK;AAAA,mGACFC,CAAQ;AAAA,oGACPC,CAAS;AAAA;AAAA,cAE9F,EAAE,KAAK,EAAE,EAEpBZ,EAAY,mBAAmB,YAAaK,CAAa,EAEzDJ,EAAS,QAAO,CACpB,CCnBA,MAAMY,EAAO,SAAS,cAAc,MAAM,EACpCC,EAAS,SAAS,cAAc,SAAS,EAE/C,SAASC,GAAa,CAClBD,EAAO,UAAU,OAAO,WAAW,CACvC,CAEA,SAASE,GAAa,CAClBF,EAAO,UAAU,IAAI,WAAW,CACpC,CAEAD,EAAK,iBAAiB,SAAU,MAAMI,GAAK,CACvCA,EAAE,eAAc,EAChB,MAAMpB,EAAQoB,EAAE,OAAO,SAAS,OAAO,MAAM,OAEvCjB,EAAc,SAAS,cAAc,UAAU,EAKrD,GAJAA,EAAY,UAAY,GAExBe,IAEIlB,IAAU,GAAI,CACdqB,EAAS,QAAQ,CACb,MAAO,SACP,QAAS,uCACT,SAAU,UACtB,CAAS,EACD,MACH,CAED,GAAI,CACA,MAAMd,EAAO,MAAMR,EAAYC,CAAK,EAChCO,EAAK,KAAK,SAAW,EACrBc,EAAS,MAAM,CACX,QAAS,2EACT,gBAAiB,MACjB,aAAc,QACd,SAAU,UAC1B,CAAa,EAEDf,EAAaC,EAAK,IAAI,CAE7B,OAAQe,EAAO,CACZ,QAAQ,IAAIA,CAAK,EACjBD,EAAS,MAAM,CACX,MAAO,QACP,QAAS,4EACT,SAAU,UACtB,CAAS,CACT,QAAc,CACNF,GACH,CACL,CAAC,EAGD,SAAS,iBAAiB,mBAAoB,IAAM,CAC/B,IAAId,EAAe,YAAY,EACvC,QAAO,CACpB,CAAC"}