{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const BASE_URL = 'https://pixabay.com/api';\n    const END_POINT = '/searchParams/';\n    \n    export async function fetchImages(query) {\n        const params = new URLSearchParams({\n            key: \"9190280-87e8455cc30411d2efd850bc0\",\n            q: query,\n            image_type: \"photo\",\n            orientation: \"horizontal\",\n            safesearch: \"true\",\n        });\n        const url = `${BASE_URL}${END_POINT}?${params}`;\n      \n        const response = await fetch(url);\n        if (!response.ok) {\n            throw new Error(response.status);\n        }\n      \n        return response.json();\n    }","export function renderImages(images) {\n    const galleryList = document.querySelector(\".gallery\");\n    galleryList.innerHTML = \"\";\n\n    images.forEach(image => {\n        const card = document.createElement(\"div\");\n        card.classList.add(\"card\");\n\n        const img = document.createElement(\"img\");\n        img.src = image.webformatURL;\n        img.alt = image.tags;\n\n        card.appendChild(img);\n        galleryList.appendChild(card);\n    });\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport { fetchImages } from \"./js/pixabay-api.js\";\nimport { renderImages } from \"./js/render-functions.js\";\n\nconst form = document.querySelector(\"form\");\nconst loader = document.querySelector('.loader');\n\nfunction showLoader() {\n    loader.classList.remove(\"is-hidden\");\n}\n\nfunction hideLoader() {\n    loader.classList.add(\"is-hidden\");\n}\n\nform.addEventListener(\"submit\", async e => {\n    e.preventDefault();\n    const query = e.target.elements.search.value.trim();\n\n    const galleryList = document.querySelector(\".gallery\");\n    galleryList.innerHTML = \"\";\n\n    showLoader();\n\n    if (query === \"\") {\n        iziToast.warning({\n            color: 'yellow',\n            message: \"Please fill in the field for search!\",\n            position: 'topRight'\n        });\n        return;\n    }\n\n    try {\n        const data = await fetchImages(query);\n        if (data.hits.length === 0) {\n            iziToast.error({\n                message: \"Sorry, there are no images matching your search query. Please try again!\",\n                backgroundColor: \"red\",\n                messageColor: \"white\",\n                position: 'topRight'\n            });\n        } else {\n            renderImages(data.hits);\n        }\n    } catch (error) {\n        console.log(error);\n        iziToast.error({\n            title: 'Error',\n            message: `Sorry, there are no images matching your search query. Please, try again!`,\n            position: 'topRight'\n        });\n    } finally {\n        hideLoader();\n    }\n});\n\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    const lightbox = new SimpleLightbox('.gallery a');\n    lightbox.refresh();\n});"],"names":["BASE_URL","END_POINT","fetchImages","query","params","url","response","renderImages","images","galleryList","image","card","img","form","loader","showLoader","hideLoader","e","iziToast","data","error","SimpleLightbox"],"mappings":"6vBAAA,MAAMA,EAAW,0BACPC,EAAY,iBAEX,eAAeC,EAAYC,EAAO,CACrC,MAAMC,EAAS,IAAI,gBAAgB,CAC/B,IAAK,oCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MACxB,CAAS,EACKE,EAAM,GAAGL,CAAQ,GAAGC,CAAS,IAAIG,CAAM,GAEvCE,EAAW,MAAM,MAAMD,CAAG,EAChC,GAAI,CAACC,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGnC,OAAOA,EAAS,MACxB,CCnBO,SAASC,EAAaC,EAAQ,CACjC,MAAMC,EAAc,SAAS,cAAc,UAAU,EACrDA,EAAY,UAAY,GAExBD,EAAO,QAAQE,GAAS,CACpB,MAAMC,EAAO,SAAS,cAAc,KAAK,EACzCA,EAAK,UAAU,IAAI,MAAM,EAEzB,MAAMC,EAAM,SAAS,cAAc,KAAK,EACxCA,EAAI,IAAMF,EAAM,aAChBE,EAAI,IAAMF,EAAM,KAEhBC,EAAK,YAAYC,CAAG,EACpBH,EAAY,YAAYE,CAAI,CACpC,CAAK,CACL,CCRA,MAAME,EAAO,SAAS,cAAc,MAAM,EACpCC,EAAS,SAAS,cAAc,SAAS,EAE/C,SAASC,GAAa,CAClBD,EAAO,UAAU,OAAO,WAAW,CACvC,CAEA,SAASE,GAAa,CAClBF,EAAO,UAAU,IAAI,WAAW,CACpC,CAEAD,EAAK,iBAAiB,SAAU,MAAMI,GAAK,CACvCA,EAAE,eAAc,EAChB,MAAMd,EAAQc,EAAE,OAAO,SAAS,OAAO,MAAM,OAEvCR,EAAc,SAAS,cAAc,UAAU,EAKrD,GAJAA,EAAY,UAAY,GAExBM,IAEIZ,IAAU,GAAI,CACde,EAAS,QAAQ,CACb,MAAO,SACP,QAAS,uCACT,SAAU,UACtB,CAAS,EACD,MACH,CAED,GAAI,CACA,MAAMC,EAAO,MAAMjB,EAAYC,CAAK,EAChCgB,EAAK,KAAK,SAAW,EACrBD,EAAS,MAAM,CACX,QAAS,2EACT,gBAAiB,MACjB,aAAc,QACd,SAAU,UAC1B,CAAa,EAEDX,EAAaY,EAAK,IAAI,CAE7B,OAAQC,EAAO,CACZ,QAAQ,IAAIA,CAAK,EACjBF,EAAS,MAAM,CACX,MAAO,QACP,QAAS,4EACT,SAAU,UACtB,CAAS,CACT,QAAc,CACNF,GACH,CACL,CAAC,EAGD,SAAS,iBAAiB,mBAAoB,IAAM,CAC/B,IAAIK,EAAe,YAAY,EACvC,QAAO,CACpB,CAAC"}